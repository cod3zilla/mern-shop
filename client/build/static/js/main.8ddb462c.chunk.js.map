{"version":3,"sources":["constants/productsConst.js","constants/userConstant.js","constants/cartConstant.js","constants/orderConstant.js","store.js","reducers/productsReducer.js","reducers/cartReducer.js","reducers/userReducer.js","reducers/orderReducer.js","components/Header.jsx","actions/userAction.js","components/Footer.jsx","components/Ratings.jsx","components/Product.jsx","components/Loading.jsx","components/Message.jsx","pages/Home.jsx","actions/productsAction.js","pages/ProductDetails.jsx","actions/cartAction.js","pages/Cart.jsx","components/FormContainer.jsx","pages/Register.jsx","pages/Login.jsx","pages/Profile.jsx","pages/ShippingAdress.jsx","pages/Payment.jsx","pages/PlaceOrder.jsx","actions/orderAction.js","pages/OrderPage.jsx","App.js","index.js"],"names":["PRODUCTS_FETCH","PRODUCTS_SUCCESS","PRODUCTS_FAILURE","PRODUCT_DETAILS_FETCH","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAILURE","USER_LOG_REQUEST","USER_LOG_SUCCESS","USER_LOG_FAILURE","USER_LOG_LOGOUT","USER_REG_REQUEST","USER_REG_SUCCESS","USER_REG_FAILURE","USER_PROFILE_REQUEST","USER_PROFILE_SUCCESS","USER_PROFILE_FAILURE","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAILURE","CART_ADD_ITEMS","CART_REMOVE_ITEMS","CART_SHIPPING_ADDRESS","CART_PAYMENT_METHOD","ORDER_REQUEST","ORDER_SUCCESS","ORDER_FAILURE","ORDER_DETAIL_REQUEST","ORDER_DETAIL_SUCCESS","ORDER_DETAIL_FAILURE","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAILURE","ORDER_PAY_RESET","MY_ORDER_REQUEST","MY_ORDER_SUCCESS","MY_ORDER_FAILURE","MY_ORDER_RESET","userInfoFromStorage","localStorage","getItem","JSON","parse","cartItemFromStorage","shippingAdressFromStorage","cartPaymentMethodFromStorage","reducer","combineReducers","productList","state","products","action","type","loading","payload","error","productDetails","product","reviews","cart","cartItems","item","existItem","find","p","map","filter","shippingAdress","paymentMethod","userReg","userInfo","userLog","userProfile","user","userUpdate","success","createOrder","order","orderDetails","orderItems","orderPay","myOrderList","myOrder","initialState","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","Header","useSelector","dispatch","useDispatch","Navbar","bg","expand","variant","collapseOnSelect","Container","NavLink","as","Link","to","Brand","Toggle","Collapse","id","Nav","className","NavDropdown","title","name","Item","onClick","removeItem","Footer","Row","Col","md","Ratings","rating","style","color","Product","Card","width","height","_id","Img","src","image","Body","Title","Text","price","Loading","Spinner","animation","Message","message","Alert","Home","useEffect","a","axios","get","data","response","sm","ProductDetails","match","history","params","useState","qty","setQty","Image","fluid","ListGroupItem","description","countInStock","Form","Control","value","onChange","e","Number","target","Array","keys","num","Button","push","addToCart","getState","setItem","stringify","Cart","location","productId","search","split","removeFromCartHandler","removeFromCart","length","ListGroup","index","rounded","reduce","acc","accum","toFixed","disabled","FormContainer","children","xs","Register","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","setMessage","redirect","onSubmit","preventDefault","post","register","Group","controlId","Label","placeholder","Login","console","log","config","headers","login","Profile","Authorization","token","put","userUpdateProfile","ShippingAdress","input","setInput","handleChange","required","Payment","payMethod","setPayMethod","Check","label","checked","PlaceOrder","adress","city","postalcode","country","addDecimal","Math","round","itemPrice","shippingPrice","taxPrice","totalPrice","alt","createOrders","OrderPage","sdkReady","setSdkReady","orderId","loadingPay","successPay","addPaypalScript","clientId","script","document","createElement","async","onload","body","appendChild","isPaid","window","paypal","isDelivered","paidAt","amount","onSuccess","PaymentResult","paymentResult","payOrder","App","path","exact","component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.8ddb462c.chunk.js","sourcesContent":["export const  PRODUCTS_FETCH='PRODUCTS_FETCH'\r\nexport const  PRODUCTS_SUCCESS='PRODUCTS_SUCCESS'\r\nexport const  PRODUCTS_FAILURE='PRODUCTS_FAILURE'\r\n\r\nexport const  PRODUCT_DETAILS_FETCH='PRODUCT_DETAILS_FETCH'\r\nexport const  PRODUCT_DETAILS_SUCCESS='PRODUCT_DETAILS_SUCCESS'\r\nexport const  PRODUCT_DETAILS_FAILURE='PRODUCT_DETAILS_FAILURE'\r\n","export const USER_LOG_REQUEST= 'USER_LOG_REQUEST'\r\nexport const USER_LOG_SUCCESS= 'USER_LOG_SUCCESS'\r\nexport const USER_LOG_FAILURE= 'USER_LOG_FAILURE'\r\nexport const USER_LOG_LOGOUT= 'USER_LOG_LOGOUT'\r\n\r\nexport const USER_REG_REQUEST= 'USER_REG_REQUEST'\r\nexport const USER_REG_SUCCESS= 'USER_REG_SUCCESS'\r\nexport const USER_REG_FAILURE= 'USER_REG_FAILURE'\r\n\r\nexport const USER_PROFILE_REQUEST= 'USER_PROFILE_REQUEST'\r\nexport const USER_PROFILE_SUCCESS= 'USER_PROFILE_SUCCESS'\r\nexport const USER_PROFILE_FAILURE= 'USER_PROFILE_FAILURE'\r\n\r\nexport const USER_UPDATE_REQUEST= 'USER_UPDATE_REQUEST'\r\nexport const USER_UPDATE_SUCCESS= 'USER_UPDATE_SUCCESS'\r\nexport const USER_UPDATE_FAILURE= 'USER_UPDATE_FAILURE'\r\nexport const USER_UPDATE_RESET= 'USER_UPDATE_RESET'","export const CART_ADD_ITEMS='CART_ADD_ITEMS'\r\nexport const CART_REMOVE_ITEMS='CART_REMOVE_ITEMS'\r\nexport const CART_SHIPPING_ADDRESS='CART_SHIPPING_ADDRESS'\r\nexport const CART_PAYMENT_METHOD='CART_PAYMENT_METHOD'","export const ORDER_REQUEST='ORDER_REQUEST'\r\nexport const ORDER_SUCCESS='ORDER_SUCCESS'\r\nexport const ORDER_FAILURE='ORDER_FAILURE'\r\n\r\nexport const ORDER_DETAIL_REQUEST='ORDER_DETAIL_REQUEST'\r\nexport const ORDER_DETAIL_SUCCESS='ORDER_DETAIL_SUCCESS'\r\nexport const ORDER_DETAIL_FAILURE='ORDER_DETAIL_FAILURE'\r\n\r\n//PAYMENT CONSTANTS\r\nexport const ORDER_PAY_REQUEST='ORDER_PAY_REQUEST'\r\nexport const ORDER_PAY_SUCCESS='ORDER_PAY_SUCCESS'\r\nexport const ORDER_PAY_FAILURE='ORDER_PAY_FAILURE'\r\nexport const ORDER_PAY_RESET='ORDER_PAY_RESET'\r\n\r\nexport const MY_ORDER_REQUEST='MY_ORDER_REQUEST'\r\nexport const MY_ORDER_SUCCESS='MY_ORDER_SUCCESS'\r\nexport const MY_ORDER_FAILURE='MY_ORDER_FAILURE'\r\nexport const MY_ORDER_RESET='MY_ORDER_RESET'\r\n","import {createStore,applyMiddleware,combineReducers} from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport {productsReducer, productDetailsReducer} from './reducers/productsReducer'\r\nimport {userRegReducer, userLoginReducer, userProfileReducer,userUpdateReducer} from './reducers/userReducer'\r\nimport {cartReducer} from './reducers/cartReducer'\r\nimport {composeWithDevTools} from 'redux-devtools-extension'\r\nimport {orderReducer,orderDetailReducer,orderPayReducer, myOrderReducer} from './reducers/orderReducer'\r\n\r\n\r\nconst userInfoFromStorage=localStorage.getItem('userInfo')?JSON.parse(localStorage.getItem('userInfo')):null\r\n\r\nconst cartItemFromStorage=localStorage.getItem(\"cartItems\")?JSON.parse(localStorage.getItem(\"cartItems\")):[]\r\n\r\nconst shippingAdressFromStorage=localStorage.getItem('shippingAdress')? JSON.parse(localStorage.getItem('shippingAdress')):{}\r\nconst cartPaymentMethodFromStorage=localStorage.getItem('paymentMethod')?JSON.parse(localStorage.getItem('paymentMethod')):{}\r\n\r\nconst reducer=combineReducers({\r\n    productList:productsReducer,\r\n    productDetails:productDetailsReducer,\r\n    cart:cartReducer,\r\n    userReg:userRegReducer,\r\n    userLog:userLoginReducer,\r\n    userProfile:userProfileReducer,\r\n    userUpdate:userUpdateReducer,\r\n    createOrder:orderReducer,\r\n    orderDetails:orderDetailReducer,\r\n    orderPay:orderPayReducer,\r\n    myOrderList:myOrderReducer\r\n})\r\nconst initialState={\r\n    cart:{\r\n        cartItems:cartItemFromStorage,\r\n        shippingAdress:shippingAdressFromStorage,\r\n        paymentMethod:cartPaymentMethodFromStorage\r\n    },\r\n    //userReg:{userReg:userRegFromStorage},\r\n    userLog:{userInfo:userInfoFromStorage},\r\n}\r\nconst middleware=[thunk]\r\nconst store=createStore(\r\n    reducer,\r\n    initialState,\r\n    composeWithDevTools(applyMiddleware(...middleware))\r\n    )\r\n\r\nexport default store;","import {PRODUCTS_FETCH,\r\n        PRODUCTS_SUCCESS,\r\n        PRODUCTS_FAILURE,\r\n        PRODUCT_DETAILS_FETCH,\r\n        PRODUCT_DETAILS_SUCCESS,\r\n        PRODUCT_DETAILS_FAILURE\r\n    } from '../constants/productsConst'\r\n\r\nexport const productsReducer=(state={products:[]},action)=>{\r\n    switch (action.type) {\r\n        case PRODUCTS_FETCH:\r\n            return {loading:true, products:action.payload};\r\n        case PRODUCTS_SUCCESS:\r\n            return {loading:false, products:action.payload};\r\n        case PRODUCTS_FAILURE:\r\n            return {loading:false, error:action.payload}; \r\n            \r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const productDetailsReducer=(state={product:{},reviews:[]}, action)=>{\r\n    switch (action.type) {\r\n        case PRODUCT_DETAILS_FETCH:\r\n            return {loading:true,product:action.payload}            \r\n        case PRODUCT_DETAILS_SUCCESS:\r\n            return {loading:false, product:action.payload} \r\n        case PRODUCT_DETAILS_FAILURE:\r\n            return {loading:false,error:action.payload} \r\n        default:\r\n            return state;\r\n    }\r\n}","import {\r\n        CART_ADD_ITEMS,\r\n        CART_REMOVE_ITEMS,\r\n        CART_SHIPPING_ADDRESS,\r\n        CART_PAYMENT_METHOD\r\n    } from '../constants/cartConstant'\r\n\r\nexport const cartReducer=(state={cartItems:[]},action)=>{\r\n    switch (action.type) {\r\n        case CART_ADD_ITEMS:            \r\n             const item=action.payload\r\n             const existItem=state.cartItems.find((p)=>p.product===item.product)\r\n            if(existItem){\r\n                return {\r\n                    ...state,\r\n                    cartItems:state.cartItems.map(p=>p.product===existItem.product?item : p)\r\n                }\r\n                }else{\r\n                return {\r\n                    ...state, cartItems:[...state.cartItems, item]\r\n                }\r\n            }\r\n\r\n        case CART_REMOVE_ITEMS:\r\n            return {\r\n                ...state,\r\n                cartItems:state.cartItems.filter((p)=>p.product !== action.payload)\r\n            } \r\n        case CART_SHIPPING_ADDRESS:\r\n            return {\r\n                ...state,\r\n                shippingAdress:action.payload\r\n            } \r\n        case CART_PAYMENT_METHOD:\r\n            return {\r\n                ...state,\r\n                paymentMethod:action.payload\r\n            }     \r\n        default:\r\n            return state;\r\n    }\r\n}","import {\r\n    USER_LOG_REQUEST, \r\n    USER_LOG_SUCCESS, \r\n    USER_LOG_FAILURE, \r\n    USER_LOG_LOGOUT,\r\n    USER_REG_REQUEST,\r\n    USER_REG_SUCCESS,\r\n    USER_REG_FAILURE,\r\n    USER_PROFILE_REQUEST,\r\n    USER_PROFILE_SUCCESS,\r\n    USER_PROFILE_FAILURE,\r\n    USER_UPDATE_REQUEST,\r\n    USER_UPDATE_SUCCESS,\r\n    USER_UPDATE_FAILURE\r\n} from '../constants/userConstant'\r\n\r\nexport const userLoginReducer=(state={}, action)=>{\r\n    switch (action.type) {\r\n        case USER_LOG_REQUEST:\r\n            return {loading:true}\r\n        case USER_LOG_SUCCESS:\r\n            return {\r\n                loading:false,\r\n                userInfo:action.payload\r\n            }\r\n        case USER_LOG_FAILURE:\r\n            return {loading:false, error:action.payload}\r\n        case USER_LOG_LOGOUT:\r\n            return {}    \r\n    \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const userRegReducer=(state={},action)=>{\r\n    switch (action.type) {\r\n        case USER_REG_REQUEST:\r\n            return {\r\n                loading:true\r\n            }\r\n        case USER_REG_SUCCESS:\r\n            return {\r\n                loading:false,\r\n                userInfo:action.payload\r\n            }\r\n        case USER_REG_FAILURE:    \r\n            return{\r\n                error:action.payload\r\n            }\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const userProfileReducer=(state={user:{}},action)=>{\r\n    switch (action.type) {\r\n        case USER_PROFILE_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading:true\r\n            }\r\n        \r\n        case USER_PROFILE_SUCCESS:\r\n            return {\r\n                loading:false,\r\n                user:action.payload\r\n            }\r\n        case USER_PROFILE_FAILURE:\r\n            return {\r\n                loading:false,\r\n                error:action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const userUpdateReducer=(state={}, action)=>{\r\n    switch (action.type) {\r\n        case USER_UPDATE_REQUEST:\r\n            return {loading:true}\r\n        case USER_UPDATE_SUCCESS:\r\n            return {\r\n                loading:false,\r\n                success:true,\r\n                userInfo:action.payload\r\n            }    \r\n        case USER_UPDATE_FAILURE:\r\n            return {\r\n                loading:false,\r\n                error:action.payload\r\n            }    \r\n    \r\n        default:\r\n           return state;\r\n    }\r\n}\r\n\r\n","import {\r\n    ORDER_REQUEST,\r\n    ORDER_SUCCESS,\r\n    ORDER_FAILURE,\r\n    ORDER_DETAIL_REQUEST,\r\n    ORDER_DETAIL_SUCCESS,\r\n    ORDER_DETAIL_FAILURE,\r\n    ORDER_PAY_REQUEST,\r\n    ORDER_PAY_SUCCESS,\r\n    ORDER_PAY_FAILURE,\r\n    ORDER_PAY_RESET,\r\n    MY_ORDER_REQUEST,\r\n    MY_ORDER_SUCCESS,\r\n    MY_ORDER_FAILURE,\r\n    MY_ORDER_RESET\r\n} from '../constants/orderConstant'\r\n\r\n\r\nexport const orderReducer=(state={}, action)=>{\r\n    switch (action.type) {\r\n        case ORDER_REQUEST:\r\n            return {loading:true}\r\n        case ORDER_SUCCESS:\r\n            return {\r\n                loading:false,\r\n                success:true,\r\n                order:action.payload\r\n            }    \r\n        case ORDER_FAILURE:\r\n            return {loading:false, error:action.payload}            \r\n                \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const orderDetailReducer=(state={orderItems:[],loading:true,shippingAdress:{}}, action)=>{\r\n    switch (action.type) {\r\n        case ORDER_DETAIL_REQUEST:            \r\n            return {               \r\n                ...state,\r\n                loading:true\r\n                }\r\n        case ORDER_DETAIL_SUCCESS:\r\n            return {\r\n                loading:false,\r\n                order:action.payload\r\n            }\r\n        case ORDER_DETAIL_FAILURE:    \r\n            return {\r\n                loading:false,\r\n                error:action.payload\r\n            }\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const orderPayReducer=(state={}, action)=>{\r\n    switch (action.type) {\r\n        case ORDER_PAY_REQUEST:\r\n            return {\r\n                loading:true\r\n            }\r\n        case ORDER_PAY_SUCCESS:\r\n            return {\r\n                loading:false,                \r\n                success:true\r\n            }\r\n        case ORDER_PAY_FAILURE:    \r\n            return {\r\n                loading:false,\r\n                error:action.payload\r\n            }\r\n        case ORDER_PAY_RESET:\r\n            return {}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const myOrderReducer= (state={myOrder:[]}, action)=>{\r\n    switch (action.type) {\r\n        case MY_ORDER_REQUEST:\r\n            return {loading:true}\r\n        case MY_ORDER_SUCCESS:\r\n            return {\r\n                \r\n                loading:false,\r\n                myOrder:action.payload\r\n            }\r\n        case MY_ORDER_FAILURE:\r\n            return {\r\n                loading:false,\r\n                error:action.payload\r\n            }\r\n        case MY_ORDER_RESET:\r\n            return {\r\n                myOrder:[]\r\n            }\r\n        default:\r\n        return   state;\r\n    }\r\n}","import React from 'react'\r\nimport { Navbar,Container,Nav,NavDropdown,NavLink } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport {logout} from '../actions/userAction'\r\n\r\nconst Header = () => {\r\n    const userLog=useSelector(state=>state.userLog)\r\n    const {userInfo}=userLog\r\n    const dispatch=useDispatch()\r\n    function handleLogout(){\r\n            dispatch(logout())\r\n    }\r\n    return (\r\n        \r\n           <Navbar bg=\"dark\" expand=\"lg\" variant=\"dark\" collapseOnSelect>\r\n            <Container>\r\n                <NavLink as={Link} to=\"/\"><Navbar.Brand>E-shop</Navbar.Brand></NavLink>              \r\n                \r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    <NavLink as={Link} to=\"/cart\">Cart</NavLink>\r\n                <Nav className=\"mr-auto ml-auto\">\r\n                \r\n                {userInfo?(\r\n                    <NavDropdown title={userInfo.name}>                        \r\n                    <NavDropdown.Item> \r\n                        <NavLink as={Link} to=\"/profile\">Profile</NavLink>                       \r\n                        \r\n                    </NavDropdown.Item>\r\n                    <NavDropdown.Item onClick={handleLogout}>logout</NavDropdown.Item>\r\n                </NavDropdown>\r\n                ):(\r\n                    <NavLink as={Link} to=\"/login\"><i className=\"fas fa-user\">&nbsp; Signin</i></NavLink>\r\n                )}  \r\n                    \r\n                </Nav>\r\n                </Navbar.Collapse>\r\n            </Container>\r\n            </Navbar> \r\n        \r\n    )\r\n}\r\n\r\nexport default Header\r\n","import axios from 'axios'\r\nimport {USER_LOG_REQUEST,\r\n        USER_LOG_SUCCESS,\r\n        USER_LOG_FAILURE,\r\n        USER_LOG_LOGOUT,\r\n        USER_REG_REQUEST,\r\n        USER_REG_SUCCESS,\r\n        USER_REG_FAILURE,\r\n        USER_PROFILE_REQUEST,\r\n        USER_PROFILE_SUCCESS,\r\n        USER_PROFILE_FAILURE,\r\n        USER_UPDATE_REQUEST,\r\n        USER_UPDATE_SUCCESS,\r\n        USER_UPDATE_FAILURE\r\n} from '../constants/userConstant'\r\n\r\nexport const register=(name, email, password)=> async (dispatch)=>{\r\n    try {\r\n        dispatch({type:USER_REG_REQUEST})\r\n        const {data}=await axios.post('users/create',{name, email, password})\r\n\r\n        dispatch({\r\n            type:USER_REG_SUCCESS,\r\n            payload:data\r\n        })\r\n\r\n        dispatch({\r\n            type:USER_LOG_SUCCESS,\r\n            payload:data\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type:USER_REG_FAILURE,\r\n            payload:error.response && error.response.data.message\r\n            ?error.response.data.message\r\n            :error.message\r\n        }) \r\n    }\r\n}\r\n\r\nexport const login=(email, password)=> async(dispatch)=>{\r\n    try {\r\n        dispatch({type:USER_LOG_REQUEST})\r\n        const config={headers:{'Content-Type':'application/json'}}\r\n        const {data}= await axios.post('/users/login',{email, password},config)\r\n        \r\n        dispatch({\r\n            type:USER_LOG_SUCCESS,\r\n            payload:data\r\n        })\r\n    localStorage.setItem('userInfo',JSON.stringify(data))\r\n    } catch (error) {\r\n        dispatch({\r\n            type:USER_LOG_FAILURE,\r\n            payload:error.response && error.response.data.message\r\n            ?error.response.data.message\r\n            :error.message\r\n        })\r\n    }\r\n}\r\n\r\nexport const getUserProfile=(id)=> async (dispatch, getState)=>{\r\n    try {\r\n        dispatch({\r\n            type:USER_PROFILE_REQUEST\r\n        })\r\n        const {userLog:{userInfo}}=getState()\r\n        const config= {headers:{\r\n        'Content-Type':'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`}}\r\n        const {data}= await axios.get(`/users/profile/`, config)\r\n\r\n        dispatch({\r\n            type:USER_PROFILE_SUCCESS,\r\n            payload:data\r\n        })\r\n\r\n        \r\n    } catch (error) {\r\n        dispatch({\r\n            type:USER_PROFILE_FAILURE,\r\n            payload:error.response && error.response.data.message\r\n            ?error.response.data.message\r\n            :error.message\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const logout=()=>dispatch=>{\r\n    localStorage.removeItem(\"userInfo\")\r\n    dispatch({type:USER_LOG_LOGOUT})\r\n}\r\n\r\nexport const userUpdateProfile=(user)=> async (dispatch, getState)=>{\r\n    try {\r\n        dispatch({type:USER_UPDATE_REQUEST})\r\n        const {userLog:{userInfo}}=getState()\r\n        const config= {headers:{\r\n            'Content-Type': 'application/json',\r\n            Authorization:`Bearer ${userInfo.token}`\r\n        }}\r\n        const {data}= await axios.put('/users/profile', user, config)\r\n        \r\n        dispatch({\r\n            type:USER_UPDATE_SUCCESS,\r\n            payload:data\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type:USER_UPDATE_FAILURE,\r\n            payload:error.response && error.response.data.message\r\n            ?error.response.data.message\r\n            :error.message\r\n        })\r\n    }\r\n}","import React from 'react'\r\nimport {Container,Row,Col} from 'react-bootstrap'\r\n\r\nconst Footer = () => {\r\n    return (\r\n        \r\n           <footer>\r\n               <Container>\r\n                   <Row>\r\n                       <Col md={12}>\r\n                           <span><p className=\"text-center\">Copyright@ 2020</p></span>\r\n                       </Col>\r\n                   </Row>\r\n               </Container>\r\n            </footer> \r\n        \r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react'\r\n\r\nconst Ratings = ({rating,reviews}) => {\r\n    return (\r\n        <div>\r\n            <span style={{color:'yellow'}}>\r\n                <i className={rating >=1? \"fas fa-star\":rating>=0.5?\"fas fa-star-half\":\"fas fa-star\"}></i>\r\n                </span>\r\n            <span style={{color:'yellow'}}>\r\n                <i className={rating >=2? \"fas fa-star\":rating>=1.5?\"fas fa-star-half\":\"fas fa-star\"}></i>\r\n                </span>\r\n            <span style={{color:'yellow'}}>\r\n                <i className={rating >=3? \"fas fa-star\":rating>=2.5?\"fas fa-star-half\":\"fas fa-star\"}></i>\r\n                </span>\r\n            <span style={{color:'yellow'}}>\r\n                <i className={rating >=4? \"fas fa-star\":rating>=3.5?\"fas fa-star-half\":\"fas fa-star\"}></i>\r\n                </span>\r\n            <span style={{color:'yellow'}}>\r\n                <i className={rating >=5? \"fas fa-star\":rating>=4.5?\"fas fa-star-half\":\"fas fa-star\"}></i>\r\n                </span>\r\n                \r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Ratings\r\n","import React from 'react'\r\nimport { Card, NavLink } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport Ratings from './Ratings'\r\nconst Product = ({product}) => {\r\n    return (\r\n        <div>\r\n            <Card className=\"m-2 p-3 rounded\"style={{ width: '18rem',height:'25rem' }}>\r\n             <NavLink as={Link} to={`/product/${product._id}`}><Card.Img src={product.image} variant=\"top\" style={{ width: '15rem',height:'11rem' }}/></NavLink>   \r\n             <NavLink as={Link} to={`/product/${product._id}`}><Card.Body>\r\n                    <Card.Title as=\"div\">\r\n                        <strong>{product.title}</strong>\r\n                    </Card.Title>\r\n                    <Card.Title as=\"div\">\r\n                        <Ratings rating={product.rating} reviews={product.reviews} />\r\n                    </Card.Title>\r\n\r\n                    <Card.Text>$ {product.price}</Card.Text>\r\n                </Card.Body></NavLink>   \r\n\r\n\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product\r\n","import React from 'react'\r\nimport {Spinner} from 'react-bootstrap'\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div className=\"text-center mt-5\">\r\n            <Spinner animation=\"border\" />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading\r\n","import React from 'react'\r\nimport {Alert} from 'react-bootstrap'\r\n\r\nconst Message = ({variant, message}) => {\r\n    return (\r\n        \r\n          <Alert variant={variant}>{message}</Alert>  \r\n        \r\n    )\r\n}\r\n\r\nexport default Message\r\n","import React,{useEffect} from 'react'\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport { productsAction } from '../actions/productsAction'\r\nimport { Row,Col } from 'react-bootstrap'\r\nimport Product from '../components/Product'\r\nimport Loading from '../components/Loading'\r\nimport Message from '../components/Message'\r\n\r\nconst Home = () => {\r\n    const dispatch=useDispatch()\r\n    const productList=useSelector(state=>state.productList)\r\n    const {loading,error,products}=productList\r\n    \r\n    useEffect(()=>{\r\n        dispatch(productsAction())\r\n    },[dispatch])\r\n        \r\n    \r\n    return (\r\n        <div>\r\n        {loading ?(<Loading/>)\r\n        :error ? (<Message variant=\"danger\" message={error}/>) \r\n        : (\r\n            <Row>\r\n            {products.map(product =>(\r\n                <Col sm={3} key={product._id}>\r\n                <Product product={product} />\r\n                </Col>\r\n            ))}                          \r\n        </Row>\r\n        )   \r\n    }\r\n          \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import axios from 'axios'\r\nimport {PRODUCTS_FETCH,\r\n        PRODUCTS_SUCCESS,\r\n        PRODUCTS_FAILURE,\r\n        PRODUCT_DETAILS_FETCH,\r\n        PRODUCT_DETAILS_SUCCESS,\r\n        PRODUCT_DETAILS_FAILURE\r\n    } from '../constants/productsConst'\r\n\r\nexport const productsAction=()=>async(dispatch)=>{\r\n    try {\r\n        dispatch({type:PRODUCTS_FETCH})\r\n        const {data}=await axios.get('/products')\r\n        dispatch({\r\n            type:PRODUCTS_SUCCESS,\r\n            payload:data\r\n        })        \r\n    } catch (error) {\r\n        dispatch({\r\n            type:PRODUCTS_FAILURE,\r\n            payload:error.response && error.response.data\r\n            ? error.response.data.message\r\n            : error.message            \r\n        })\r\n    }\r\n}\r\nexport const productDetailsAction=(id)=>async(dispatch)=>{\r\n    try {\r\n        dispatch({type:PRODUCT_DETAILS_FETCH})\r\n        const {data}=await axios.get(`/products/product/${id}`)\r\n        dispatch({type:PRODUCT_DETAILS_SUCCESS,payload:data})\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type:PRODUCT_DETAILS_FAILURE,\r\n            payload:error.response && error.response.data\r\n            ? error.response.data.message\r\n            :error.message                \r\n        })\r\n    }\r\n}","import React,{useState,useEffect} from 'react'\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport { productDetailsAction } from '../actions/productsAction'\r\nimport { Row,Col,Button,Image,ListGroupItem, Form } from 'react-bootstrap'\r\nimport Ratings from '../components/Ratings'\r\nimport Loading from '../components/Loading'\r\nimport Message from '../components/Message'\r\n\r\n\r\nconst ProductDetails = ({match,history}) => {\r\n    const dispatch=useDispatch()\r\n    const productDetails=useSelector(state=>state.productDetails)\r\n    const {loading,error,product}=productDetails\r\n    useEffect(()=>{\r\n        dispatch(productDetailsAction(match.params.id))\r\n    },[match,dispatch])\r\n\r\n    const [qty, setQty]=useState(1)\r\n    function handleAddToCart(){\r\n        history.push(`/cart/${match.params.id}?qty=${qty}`)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {loading\r\n            ?(<Loading/>)\r\n            :error ?(<Message variant=\"danger\" message={error}/>)\r\n            :(\r\n                <Row>\r\n                    <Col md={6} className=\"mt-3\">\r\n                        <Image style={{width:'75%'}} fluid src={product.image} />\r\n                    </Col>    \r\n                    <Col  md={3}>\r\n                        <ListGroupItem className=\"my-3 text-light\">\r\n                            <h3>{product.title}</h3>\r\n                            <Ratings rating={product.rating}/>                    \r\n                        </ListGroupItem>\r\n                        <ListGroupItem className=\"text-light\">\r\n                                {product.description}\r\n                        </ListGroupItem>\r\n                        <ListGroupItem className=\"text-light\">Price: {product.price} $\r\n                        </ListGroupItem>\r\n                    </Col>    \r\n                    <Col>\r\n                        <ListGroupItem className=\"my-5 text-light\">Status: {product.countInStock} In Stock</ListGroupItem>\r\n                        \r\n                        {product.countInStock > 0 && (\r\n                            <ListGroupItem>\r\n                                <Row>\r\n                                    <Col>QTY</Col>\r\n                                    <Form.Control\r\n                                    as=\"select\"\r\n                                    value={qty}\r\n                                    onChange={(e)=>setQty(Number(e.target.value))}\r\n                                    >\r\n                                        {[...Array(product.countInStock).keys()].map((num)=>(\r\n                                            <option\r\n                                            style={{color:'black'}} \r\n                                            key={num+1}\r\n                                            value={num+1}\r\n                                            >\r\n                                                {num+1}\r\n                                            </option>\r\n                                        ))}\r\n                                    </Form.Control>\r\n                                </Row>\r\n                            </ListGroupItem>\r\n                        )}\r\n                        <ListGroupItem>\r\n                            <Button type=\"button\" onClick={handleAddToCart}>Add to Cart</Button>\r\n                        </ListGroupItem>\r\n                    </Col>    \r\n                </Row> \r\n            )\r\n            }           \r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductDetails\r\n","import axios from 'axios'\r\nimport {CART_ADD_ITEMS,\r\n    CART_REMOVE_ITEMS,\r\n    CART_SHIPPING_ADDRESS,\r\n    CART_PAYMENT_METHOD\r\n} from '../constants/cartConstant'\r\n\r\nexport const addToCart=(id, qty)=> async (dispatch, getState)=>{\r\n    const {data}= await axios(`/products/product/${id}`)\r\n    dispatch({\r\n        type:CART_ADD_ITEMS,\r\n        payload:{\r\n            product:data._id,\r\n            title:data.title,\r\n            image:data.image,\r\n            price:data.price,\r\n            countInStock:data.countInStock,\r\n            qty\r\n        }\r\n    })\r\n    localStorage.setItem(\"cartItems\",JSON.stringify(getState().cart.cartItems))\r\n}\r\n\r\nexport const removeFromCart=(id)=>(dispatch, getState)=>{\r\n    dispatch({\r\n        type:CART_REMOVE_ITEMS,\r\n        payload:id\r\n    })\r\n    localStorage.setItem(\"cartItems\",JSON.stringify(getState().cart.cartItems))\r\n}\r\n\r\nexport const saveShippingAdress=(data)=>(dispatch)=>{\r\n    dispatch({\r\n        type:CART_SHIPPING_ADDRESS,\r\n        payload:data\r\n    })\r\n    localStorage.setItem('shippingAdress',JSON.stringify(data))\r\n}\r\n\r\nexport const savePaymentMethod=(data)=>dispatch=>{\r\n    dispatch({\r\n        type:CART_PAYMENT_METHOD,\r\n        payload:data\r\n    })\r\n    localStorage.setItem('paymentMethod',JSON.stringify(data))\r\n}","import React,{useEffect} from 'react'\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport {Row,Col,Form,Button,Card,Image,ListGroup,ListGroupItem,NavLink} from 'react-bootstrap'\r\nimport {Link} from 'react-router-dom'\r\nimport { addToCart,removeFromCart } from '../actions/cartAction'\r\n\r\n\r\nconst Cart = ({match,location,history}) => {\r\n    const productId=match.params.id\r\n    const qty=location.search? Number(location.search.split(\"=\")[1]) :1;\r\n    \r\n    const dispatch=useDispatch()\r\n    useEffect(()=>{\r\n        if(productId){\r\n            dispatch(addToCart(productId,qty))\r\n        }\r\n    },[dispatch,qty,productId])\r\n\r\n    const cart=useSelector((state)=>state.cart)\r\n    const {cartItems}=cart\r\n    const removeFromCartHandler=(id)=>{\r\n        dispatch(removeFromCart(id))\r\n    }\r\n    const handleCheckout=()=>{\r\n        history.push('/login?redirect=shipping')\r\n    }\r\n    \r\n    return (\r\n        \r\n          <Row>\r\n              <Col md={8} >\r\n                  <h2>Shopping Cart</h2>\r\n                  {cartItems.length===0?<h5>your cart is empty!! <NavLink as={Link} to=\"/\">Go back</NavLink>\r\n                  \r\n                  </h5>:(\r\n                    <ListGroup variant=\"flush\">\r\n                        {cartItems.map((item,index)=>(\r\n                            <Row key={index}>\r\n                            <Col md={2} >\r\n                                <Image src={item.image}fluid rounded/>\r\n                            </Col>\r\n                            <Col md={3}><Link to={`/product/${item.product}`}>{item.title}</Link></Col>\r\n                            <Col md={2}>{item.price}</Col>\r\n                            <Col md={2}><Form.Control\r\n                                    as=\"select\"\r\n                                    value={item.qty}\r\n                                    onChange={(e)=>dispatch(addToCart(item.product, Number(e.target.value)))}\r\n                                    >\r\n                                        {[...Array(item.countInStock).keys()].map((num)=>(\r\n                                            <option\r\n                                            style={{color:'black'}} \r\n                                            key={num+1}\r\n                                            value={num+1}\r\n                                            >\r\n                                                {num+1}\r\n                                            </option>\r\n                                        ))}\r\n                                    </Form.Control>\r\n                                </Col>\r\n                                <Col md={2}>\r\n                                <Button type=\"button\" onClick={()=>removeFromCartHandler(item.product)}><i className=\"fas fa-trash\"></i></Button>\r\n                                </Col>\r\n                        </Row>\r\n                        ))\r\n                      }\r\n                          \r\n                    </ListGroup>\r\n                  )}\r\n                </Col> \r\n                <Col md={4} className=\"mt-4\">\r\n                <Card>\r\n                <ListGroup variant=\"flush\">\r\n                <ListGroupItem>\r\n                    <h2>Subtotal ( {cartItems.reduce((acc,item)=> acc + item.qty,0)} ) Items </h2></ListGroupItem>\r\n                    <ListGroupItem>$ \r\n                     {cartItems.reduce((accum, item)=>accum + item.qty * item.price, 0).toFixed(2)}</ListGroupItem>    \r\n                </ListGroup>    \r\n                </Card> \r\n                <Card>\r\n                \r\n                    \r\n                   \r\n                </Card> \r\n                <Button type=\"button\"\r\n                onClick={handleCheckout}\r\n                disabled={cartItems.length===0}>Proceed Checkout</Button>     \r\n                </Col>             \r\n            </Row>  \r\n        \r\n    )\r\n}\r\n\r\nexport default Cart\r\n","import React from 'react'\r\nimport {Container,Row,Col} from 'react-bootstrap'\r\n\r\nconst FormContainer = ({children}) => {\r\n    return (\r\n        <Container>\r\n            <Row className=\"justify-content-md-center\">\r\n                <Col xs={12} md={6}>\r\n                    {children}\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default FormContainer\r\n","import React,{useState, useEffect} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {register} from '../actions/userAction'\r\nimport FormContainer from '../components/FormContainer'\r\nimport {Form, Row, Col, Button} from 'react-bootstrap'\r\n\r\nconst Register = ({location, history}) => {\r\n    const [name, setName]=useState('')\r\n    const [email, setEmail]=useState('')\r\n    const [password, setPassword]=useState('')\r\n    const [confirmPassword, setConfirmPassword]=useState('')\r\n    const [message, setMessage]=useState('')\r\n    const redirect=location.search? location.search.split('=')[1]:'/'\r\n    const dispatch=useDispatch()\r\n    const userReg=useSelector(state=>state.userReg)\r\n    const {loading,error,userInfo}=userReg\r\n\r\n    useEffect(()=>{\r\n    if(userInfo){history.push(redirect)}\r\n},[history,userInfo,redirect])\r\n\r\nconst handleSubmit= (e)=>{\r\n    e.preventDefault()\r\n    if(password!==confirmPassword){\r\n        setMessage('password not matched!')\r\n    }\r\n    dispatch(register(name, email, password))\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n        <FormContainer>\r\n            <h2>Register</h2>\r\n            {error&&<h2>{error}</h2>}\r\n            {loading&& <h2>Loading...</h2>}\r\n            <Form onSubmit={handleSubmit}>\r\n            <Form.Group controlId=\"name\" >\r\n                    <Form.Label>Name </Form.Label>\r\n                    <Form.Control \r\n                    type=\"text\"\r\n                    placeholder=\"your name\"\r\n                    value={name}\r\n                    onChange={(e)=>setName(e.target.value)}\r\n                    />\r\n                </Form.Group>\r\n                <Form.Group controlId=\"email\" >\r\n                    <Form.Label>Email </Form.Label>\r\n                    <Form.Control \r\n                    type=\"email\"\r\n                    placeholder=\"email\"\r\n                    value={email}\r\n                    onChange={(e)=>setEmail(e.target.value)}\r\n                    />\r\n                </Form.Group>\r\n                <Form.Group controlId=\"password\" >\r\n                    <Form.Label>Password </Form.Label>\r\n                    <Form.Control \r\n                    type=\"password\"\r\n                    placeholder=\"password\"\r\n                    value={password}\r\n                    onChange={(e)=>setPassword(e.target.value)}\r\n                    />\r\n                </Form.Group>\r\n                <Form.Group controlId=\"confirmpassword\" >\r\n                    <Form.Label>Re-enter Password </Form.Label>\r\n                    <Form.Control \r\n                    type=\"password\"\r\n                    placeholder=\"confirm password\"\r\n                    value={confirmPassword}\r\n                    onChange={(e)=>setConfirmPassword(e.target.value)}\r\n                    />\r\n                    {message&&<h5>{message}</h5>}\r\n                </Form.Group>\r\n                <Button type=\"submit\">Register</Button>\r\n            </Form>\r\n            <Row>\r\n                <Col>\r\n               Already Registered User?\r\n                <Link to={redirect? `login?redirect=${redirect}`:'/login'}>Login</Link>\r\n                </Col>\r\n            </Row>\r\n        </FormContainer>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","import React,{useState, useEffect} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {login} from '../actions/userAction'\r\nimport FormContainer from '../components/FormContainer'\r\nimport {Form, Row, Col, Button} from 'react-bootstrap'\r\n\r\nconst Login = ({location, history}) => {\r\n    const [email, setEmail]=useState('')\r\n    const [password, setPassword]=useState('')\r\n    const redirect=location.search? location.search.split('=')[1]:'/'\r\n    const dispatch=useDispatch()\r\n    const userLog=useSelector(state=>state.userLog)\r\n    const {loading,error,userInfo}=userLog\r\nuseEffect(()=>{\r\n    if(userInfo){history.push(redirect)}\r\n},[history,userInfo,redirect])\r\n\r\nconst handleSubmit= (e)=>{\r\n    e.preventDefault()\r\n    dispatch(login(email, password))\r\n    }\r\n    console.log(password)\r\n    return (\r\n        <div>\r\n        <FormContainer>\r\n            <h2>Sign In</h2>\r\n            {error&&<h2>{error}</h2>}\r\n            {loading&& <h2>Loading...</h2>}\r\n            <Form onSubmit={handleSubmit}>\r\n                <Form.Group controlId=\"email\" >\r\n                    <Form.Label>Email </Form.Label>\r\n                    <Form.Control \r\n                    type=\"email\"\r\n                    placeholder=\"email\"\r\n                    value={email}\r\n                    onChange={(e)=>setEmail(e.target.value)}\r\n                    ></Form.Control>\r\n\r\n                </Form.Group>\r\n                <Form.Group controlId=\"password\" >\r\n                    <Form.Label>Password </Form.Label>\r\n                    <Form.Control \r\n                    type=\"password\"\r\n                    placeholder=\"password\"\r\n                    value={password}\r\n                    onChange={(e)=>setPassword(e.target.value)}\r\n                    ></Form.Control>\r\n                </Form.Group>\r\n                <Button type=\"submit\">Login</Button>\r\n            </Form>\r\n            <Row>\r\n                <Col>\r\n                New User ?\r\n                <Link to={redirect? `register?redirect=${redirect}`:'/register'}>Register</Link>\r\n                </Col>\r\n            </Row>\r\n        </FormContainer>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React,{useState, useEffect} from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {getUserProfile, userUpdateProfile} from '../actions/userAction'\r\nimport {Form, Row, Col, Button,Container} from 'react-bootstrap'\r\nimport Message from '../components/Message'\r\nimport Loading from '../components/Loading'\r\n\r\n\r\nconst Profile = ({history}) => {\r\n\r\n    const [name, setName]=useState('')\r\n    const [email, setEmail]=useState('')\r\n    const [password, setPassword]=useState('')\r\n    const [confirmPassword, setConfirmPassword]=useState('')\r\n    const [message, setMessage]=useState('')\r\n    // order list\r\n    \r\n    //profile update\r\n    const dispatch=useDispatch()\r\n    const userProfile=useSelector((state)=>state.userProfile)\r\n    const{loading, error, user}=userProfile    \r\n    \r\n    const userLog=useSelector(state=>state.userLog)\r\n    const {userInfo}=userLog\r\n\r\n    const userUpdate=useSelector(state=>state.userUpdate)\r\n    const {success}=userUpdate\r\n    console.log(success)\r\n    \r\n    useEffect(()=>{\r\n    if(!userInfo){\r\n        history.push('/login')\r\n    }else{\r\n       if(!user.name){\r\n           dispatch(getUserProfile('profile'))\r\n           setMessage('profile update successful!')\r\n       }else{\r\n           setName(user.name)\r\n           setEmail(user.email)\r\n       }\r\n    }    \r\n},[history,user,userInfo,dispatch])\r\n\r\nconst handleSubmit= (e)=>{\r\n    e.preventDefault()\r\n    dispatch(userUpdateProfile({id:user._id,name, email, password}))\r\n    }\r\n    return (\r\n        <div>\r\n            <Container>\r\n                <Row>\r\n                    <Col md={3}>\r\n                    \r\n                    <h2>Edit Profile</h2>\r\n                    {error&& <Message variant=\"danger\" message={error} />}\r\n                    {loading&& <Loading/>}\r\n                    {success&& <Message variant=\"success\" message={message}/>}\r\n            <Form onSubmit={handleSubmit}>\r\n            <Form.Group controlId=\"name\" >\r\n                    <Form.Label>Name </Form.Label>\r\n                    <Form.Control \r\n                    type=\"text\"\r\n                    placeholder=\"your name\"\r\n                    value={name}\r\n                    onChange={(e)=>setName(e.target.value)}\r\n                    />\r\n                </Form.Group>\r\n                <Form.Group controlId=\"email\" >\r\n                    <Form.Label>Email </Form.Label>\r\n                    <Form.Control \r\n                    type=\"email\"\r\n                    placeholder=\"email\"\r\n                    value={email}\r\n                    onChange={(e)=>setEmail(e.target.value)}\r\n                    />\r\n                </Form.Group>\r\n                <Form.Group controlId=\"password\" >\r\n                    <Form.Label>Password </Form.Label>\r\n                    <Form.Control \r\n                    type=\"password\"\r\n                    placeholder=\"password\"\r\n                    value={password}\r\n                    onChange={(e)=>setPassword(e.target.value)}\r\n                    />\r\n                </Form.Group>\r\n                <Form.Group controlId=\"confirmpassword\" >\r\n                    <Form.Label>Re-enter Password </Form.Label>\r\n                    <Form.Control \r\n                    type=\"password\"\r\n                    placeholder=\"confirm password\"\r\n                    value={confirmPassword}\r\n                    onChange={(e)=>setConfirmPassword(e.target.value)}\r\n                    />\r\n                    \r\n                </Form.Group>\r\n                <Button type=\"submit\">Update</Button>\r\n            </Form>         \r\n        \r\n                    </Col>\r\n                    <Col md={9}>\r\n                        <h2>My Orders</h2>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React,{useState} from 'react'\r\nimport {Container,Row,Col,Form,Button} from 'react-bootstrap'\r\nimport {useDispatch} from 'react-redux'\r\nimport {saveShippingAdress} from '../actions/cartAction'\r\n\r\nconst ShippingAdress = ({history}) => {\r\n    const dispatch=useDispatch()\r\n    const [input, setInput]=useState([])\r\n    function handleChange(e){\r\n        setInput({...input,[e.target.name]:e.target.value})\r\n    }   \r\n    \r\n    \r\n    function handleSubmit(e){\r\n        e.preventDefault()\r\n        dispatch(saveShippingAdress(input))\r\n        history.push('/payment')\r\n    }\r\n    return (\r\n        \r\n        <Container>\r\n            <Row>   \r\n                <Col md={3}>\r\n                    \r\n                    <h2>Shipping Adress</h2>\r\n                    {/* {error&&<h2>{error}</h2>}\r\n                    {loading&& <h2>Loading...</h2>} */}\r\n                    \r\n            <Form onSubmit={handleSubmit}>\r\n            <Form.Group controlId=\"adress\" >\r\n                    <Form.Label>Adress </Form.Label>\r\n                    <Form.Control \r\n                    type=\"text\"\r\n                    placeholder=\"sussex road Bridge\"\r\n                    name=\"adress\"\r\n                    \r\n                    onChange={handleChange}\r\n                    required\r\n                    />\r\n                </Form.Group>\r\n                <Form.Group controlId=\"city\" >\r\n                    <Form.Label>City </Form.Label>\r\n                    <Form.Control \r\n                    type=\"text\"\r\n                    placeholder=\"city\"\r\n                    name=\"city\"\r\n                    \r\n                    onChange={handleChange}\r\n                    required\r\n                    />\r\n                </Form.Group>\r\n                <Form.Group controlId=\"postalcode\" >\r\n                    <Form.Label>Postal-Code </Form.Label>\r\n                    <Form.Control \r\n                    type=\"number\"\r\n                    placeholder=\"postalcode\"\r\n                    name=\"postalcode\"\r\n                    \r\n                    onChange={handleChange}\r\n                    required\r\n                    />\r\n                </Form.Group>\r\n                <Form.Group controlId=\"country\" >\r\n                    <Form.Label>Country </Form.Label>\r\n                    <Form.Control \r\n                    type=\"text\"\r\n                    placeholder=\"country\"\r\n                    name=\"country\"\r\n                    \r\n                    onChange={handleChange}\r\n                    required\r\n                    />\r\n                    \r\n                </Form.Group>\r\n                <Button type=\"submit\">Continue</Button>\r\n            </Form>         \r\n        \r\n                    </Col>\r\n                    <Col md={9} className=\"px-3\">\r\n                        <h2>Suggested Products</h2>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n            \r\n        \r\n    )\r\n}\r\n\r\nexport default ShippingAdress\r\n","import React,{useState} from 'react'\r\nimport {Button,Form} from 'react-bootstrap'\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport {savePaymentMethod} from '../actions/cartAction'\r\n\r\nconst Payment = ({history}) => {\r\n    const dispatch=useDispatch()\r\n    const cart=useSelector(state=>state.cart)\r\n       \r\n    const [payMethod, setPayMethod]=useState('paypal')\r\n    const {shippingAdress}=cart\r\n    if(!shippingAdress){\r\n        history.push('/shipping')\r\n    }\r\n    \r\n    function handleSubmit(e){\r\n    e.preventDefault()\r\n    dispatch(savePaymentMethod(payMethod))\r\n    history.push('/checkout')\r\n    }\r\n    return (\r\n        <div>\r\n           \r\n             \r\n            <h1>Payment Method</h1>\r\n            <Form onSubmit={handleSubmit}>\r\n                <Form.Group>\r\n                  <Form.Label as=\"legend\">\r\n                    Select a Payment Method  \r\n                    </Form.Label> \r\n                    <Form.Check \r\n                    type=\"checkbox\" \r\n                    label=\"Paypal\"\r\n                    id=\"paypal\"\r\n                    value={payMethod}\r\n                    name=\"paymethod\"                \r\n                    onChange={e=>setPayMethod(e.target.value)}\r\n                    checked /> \r\n                    \r\n                </Form.Group>\r\n                \r\n                <Button type=\"submit\">Continue</Button>\r\n                \r\n            </Form>   \r\n                         \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Payment\r\n","import React,{useEffect} from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {Link} from 'react-router-dom'\r\nimport {createOrders} from '../actions/orderAction'\r\nimport {Row, Col, Button,ListGroup,Image,Card} from 'react-bootstrap'\r\n\r\nconst PlaceOrder = ({history}) => {\r\n\r\n    const dispatch=useDispatch()\r\n    const cart=useSelector(state=>state.cart)      \r\n    const {adress,city,postalcode,country}=cart.shippingAdress\r\n\r\n    const createOrder=useSelector(state=>state.createOrder)\r\n    const {order, success, error}=createOrder\r\n    //function for decimal\r\n    const addDecimal=(num)=>{\r\n        return (Math.round(num * 100 / 100).toFixed(2))\r\n    }\r\n     //calculation logic for the Order summary\r\n    cart.itemPrice=addDecimal(cart.cartItems.reduce((acc,item)=> acc + Number(item.price )* Number(item.qty),0)) \r\n    cart.shippingPrice=addDecimal(cart.cartItems >100 ? 0 : 5)\r\n    cart.taxPrice=addDecimal(0.15 * cart.itemPrice)\r\n    cart.totalPrice=addDecimal(Number(cart.itemPrice)+Number(cart.shippingPrice)+ Number(cart.taxPrice))\r\n    \r\n\r\n    function handleClick(){\r\n        dispatch( createOrders({\r\n            orderItems:cart.cartItems,\r\n            shippingAdress:cart.shippingAdress,\r\n            paymentMethod:cart.paymentMethod,\r\n            itemPrice:cart.itemPrice,\r\n            shippingPrice:cart.shippingPrice,\r\n            taxPrice:cart.taxPrice,\r\n            totalPrice:cart.totalPrice\r\n        }))\r\n        if(success){\r\n            history.push(`/order/${order._id}`)\r\n        }\r\n    }\r\n    useEffect(()=>{\r\n        if(success){\r\n            history.push(`/order/${order._id}`)\r\n        }\r\n        //eslint-disable-next-line\r\n    },[history,success])\r\n    \r\n    return (\r\n        <div>\r\n            <Row>\r\n                <Col md={8}>\r\n                    <ListGroup variant=\"flush\">\r\n                        <ListGroup.Item>\r\n                        <h2>Shipping</h2>\r\n                            <p><strong>Adress</strong>\r\n                            {adress}, {city},  {postalcode},  {country}</p>\r\n                        </ListGroup.Item>            \r\n                    <ListGroup.Item>\r\n                        <h2>Payment Method</h2>\r\n                            <p><strong>{cart.paymentMethod}</strong></p>\r\n                    </ListGroup.Item>\r\n                    </ListGroup>\r\n                    <ListGroup variant=\"flush\">\r\n                        <ListGroup.Item><h2>Order Items</h2></ListGroup.Item>\r\n                        {cart.cartItems.length===0 \r\n                        ?(<h3>your Order list is empty!</h3>)\r\n                        :(<ListGroup.Item>\r\n                            {cart.cartItems.map((item,index)=>(\r\n                          <ListGroup.Item key={index}>\r\n                              <Row>\r\n                                  <Col md={1}>\r\n                                      <Image src={item.image} alt={item.title} fluid/>\r\n                                  </Col>\r\n                                  <Col>\r\n                                  <Link to={`/products/product/${item.product}`}>{item.title}</Link>\r\n                                  </Col>\r\n                                  <Col md={4}>\r\n                                      {item.qty} X $ {item.price} = $ {item.qty * item.price}\r\n                                  </Col>\r\n                              </Row>\r\n                          </ListGroup.Item>  \r\n                        ))}\r\n                        </ListGroup.Item>)}\r\n                        \r\n                    </ListGroup>\r\n                                       \r\n                </Col>\r\n                <Col md={4}>\r\n                    <Card>\r\n                    <ListGroup variant=\"flush\">\r\n                        <ListGroup.Item>\r\n                            <h2>Order Summary</h2>\r\n                        </ListGroup.Item>\r\n                        <ListGroup.Item>\r\n                            <Row>\r\n                                <Col>Items</Col>\r\n                                <Col>$ {cart.itemPrice}</Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col>Shipping</Col>\r\n                                <Col>$ {cart.shippingPrice}</Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col>Tax</Col>\r\n                                <Col>$ {cart.taxPrice}</Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col>Total</Col>\r\n                                <Col>$ {cart.totalPrice}</Col>\r\n                            </Row>\r\n                        </ListGroup.Item>\r\n                        <ListGroup.Item>\r\n                        {error&&<h5>{error}</h5>}\r\n                        </ListGroup.Item>\r\n                        <Button \r\n                        variant=\"success\"\r\n                        type=\"button\"\r\n                        onClick={handleClick}\r\n                        disabled={cart.cartItems===0}\r\n                        >Checkout</Button>\r\n                    </ListGroup>\r\n                    </Card>\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PlaceOrder\r\n","import axios from 'axios'\r\nimport {\r\n    ORDER_REQUEST,\r\n    ORDER_SUCCESS,\r\n    ORDER_FAILURE,\r\n    ORDER_DETAIL_REQUEST,\r\n    ORDER_DETAIL_SUCCESS,\r\n    ORDER_DETAIL_FAILURE,\r\n    ORDER_PAY_REQUEST,\r\n    ORDER_PAY_SUCCESS,\r\n    ORDER_PAY_FAILURE,\r\n    MY_ORDER_REQUEST,\r\n    MY_ORDER_SUCCESS,\r\n    MY_ORDER_FAILURE,\r\n    } from '../constants/orderConstant'\r\n\r\nexport const createOrders=(order)=>async (dispatch, getState)=>{\r\n    try {\r\n        dispatch({\r\n            type:ORDER_REQUEST\r\n        })\r\n        const {userLog:{userInfo}}=getState()\r\n        const config= {headers:{\r\n            'Content-Type': 'application/json',\r\n            Authorization:`Bearer ${userInfo.token}`\r\n        }}\r\n        const {data}= await axios.post('/order',order, config)\r\n        dispatch({\r\n            type:ORDER_SUCCESS,\r\n            payload:data\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type:ORDER_FAILURE,\r\n            payload:error.response && error.response.data.message\r\n            ?error.response.data.message\r\n            :error.message\r\n        })\r\n        \r\n    }\r\n}\r\n\r\nexport const getOrderDetails=(id)=>async (dispatch, getState)=>{\r\n    try {\r\n        dispatch({\r\n            type:ORDER_DETAIL_REQUEST,\r\n        })\r\n        const {userLog:{userInfo}}=getState()\r\n        const config={\r\n            headers:{\r\n                Authorization:`Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n        const {data}= await axios.get(`/order/${id}`,config)\r\n\r\n        dispatch({\r\n            type:ORDER_DETAIL_SUCCESS,\r\n            payload:data\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type:ORDER_DETAIL_FAILURE,\r\n            payload:error.response && error.response.data.message\r\n            ?error.response.data.message\r\n            :error.message\r\n        })\r\n    }\r\n}\r\n\r\nexport const payOrder=(orderId, paymentResult)=>async (dispatch, getState)=>{\r\n    try {\r\n        dispatch({\r\n            type:ORDER_PAY_REQUEST,\r\n        })\r\n        const {userLog:{userInfo}}=getState()\r\n        const config={\r\n            headers:{\r\n                Authorization:`Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n        const {data}= await axios.put(`/order/${orderId}/pay`,config)\r\n\r\n        dispatch({\r\n            type:ORDER_PAY_SUCCESS,\r\n            payload:data\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type:ORDER_PAY_FAILURE,\r\n            payload:error.response && error.response.data.message\r\n            ?error.response.data.message\r\n            :error.message\r\n        })\r\n    }\r\n}\r\n\r\nexport const getOrderList= ()=>async (dispatch,getState)=>{\r\n    try {\r\n        dispatch({\r\n            type:MY_ORDER_REQUEST,            \r\n        })\r\n        const {userLog:{userInfo}}=getState()\r\n        const config={\r\n            headers:{\r\n                Authorization:`Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n        const {data}= await axios.get('order/myorder', config)\r\n\r\n        dispatch({\r\n            type:MY_ORDER_SUCCESS,\r\n            myOrderList:data\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type:MY_ORDER_FAILURE,\r\n            payload:error.response && error.response.data.message\r\n            ?error.response.data.message\r\n            :error.message\r\n        })\r\n    }\r\n}","import React,{useEffect, useState} from 'react'\r\nimport {Row, Col, NavLink, ListGroup, Image, Card} from 'react-bootstrap'\r\nimport { PayPalButton } from \"react-paypal-button-v2\"\r\nimport {Link} from 'react-router-dom'\r\nimport { getOrderDetails, payOrder } from '../actions/orderAction'\r\nimport {ORDER_PAY_RESET} from '../constants/orderConstant'\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport axios from 'axios'\r\nimport Loading from '../components/Loading'\r\nimport Message from '../components/Message'\r\n\r\n\r\nconst OrderPage = ({match}) => {\r\n    \r\n    const [sdkReady, setSdkReady]=useState(false)\r\n    const orderId=match.params.id\r\n    const dispatch = useDispatch()\r\n    const orderDetails=useSelector(state=>state.orderDetails)\r\n    const {order,loading, error}=orderDetails    \r\n    \r\n    const orderPay=useSelector(state=>state.orderPay)\r\n    const {loading:loadingPay, success:successPay}=orderPay   \r\n\r\n    useEffect(()=>{\r\n    const addPaypalScript= async ()=>{\r\n        const { data:clientId } = await axios.get('/config/paypal')\r\n        \r\n      const script = document.createElement('script');\r\n      script.type = 'text/javascript';\r\n      script.src = `https://www.paypal.com/sdk/js?client-id=${clientId}`\r\n      script.async = true;\r\n      script.onload = () => {\r\n        setSdkReady(true)\r\n        \r\n      };\r\n      document.body.appendChild(script);    \r\n    }\r\n    if(!order||successPay){\r\n        dispatch(getOrderDetails(orderId))\r\n        dispatch({type:ORDER_PAY_RESET})\r\n    }else if(!order.isPaid){\r\n        if(!window.paypal){\r\n            addPaypalScript()\r\n        }else{\r\n            setSdkReady(true)\r\n        }\r\n    }    \r\n},[dispatch,orderId, order, successPay, loadingPay])\r\n\r\nconst handlePaymentSuccess=(PaymentResult)=>{\r\n    \r\n    dispatch(payOrder(orderId, PaymentResult))\r\n}    \r\n    return loading? <Loading/> \r\n    :error?<Message variant=\"danger\" message={error} />: (\r\n        <div>\r\n          <h2>Order: {order._id}</h2>  \r\n          <Row>\r\n              <Col md={8}>\r\n              <ListGroup variant=\"flush\">\r\n                    <ListGroup.Item>\r\n                        <h2>Shipping</h2> \r\n                            <p><strong>{order.user.name}</strong></p> \r\n                            <p><strong>{order.user.email}</strong></p>                        \r\n                            <p><strong>Adress: </strong>\r\n                            {order.shippingAdress.adress}, {order.shippingAdress.city},  {order.shippingAdress.postalcode},  {order.shippingAdress.country}</p>\r\n                            {order.isDelivered? (<Message variant=\"success\" message={order.paidAt} />) : ( <Message variant=\"danger\" message=\"Not Delivered\" /> )}\r\n                    </ListGroup.Item>            \r\n                    <ListGroup.Item>\r\n                        <h2>Payment Method</h2>\r\n                            <p><strong>{order.paymentMethod}</strong></p>\r\n                            {order.isPaid? (<Message variant=\"success\" message={order.paidAt} />) : ( <Message variant=\"danger\" message=\"Not Paid\" /> )}\r\n                    </ListGroup.Item>\r\n                </ListGroup>\r\n                    <ListGroup variant=\"flush\">\r\n                        <ListGroup.Item><h2>Order Items</h2></ListGroup.Item>\r\n                         {order.orderItems.length===0 \r\n                        ?(<h3>your Order list is empty!</h3>)\r\n                        :(<ListGroup.Item>\r\n                            {order.orderItems.map((item,index)=>(\r\n                          <ListGroup.Item key={index}>\r\n                              <Row>\r\n                                  <Col md={1}>\r\n                                      <Image src={item.image} alt={item.title} fluid/>\r\n                                  </Col>\r\n                                  <Col>\r\n                                    <NavLink as={Link} to={`/products/product/${item.product}`}>{item.title}</NavLink>\r\n                                  </Col>                                 \r\n                                </Row>\r\n                            </ListGroup.Item>  \r\n                        ))}\r\n                        </ListGroup.Item>)}\r\n                        \r\n                    </ListGroup>\r\n              </Col>\r\n              <Col md={4}>\r\n              <Card>\r\n                    <ListGroup variant=\"flush\">\r\n                        <ListGroup.Item>\r\n                            <h2>Order Summary</h2>\r\n                        </ListGroup.Item>\r\n                        <ListGroup.Item>\r\n                            <Row>\r\n                                <Col>Items</Col>\r\n                                <Col>$ {order.itemPrice}</Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col>Shipping</Col>\r\n                                <Col>$ {order.shippingPrice}</Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col>Tax</Col>\r\n                                <Col>$ {order.taxPrice}</Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col>Total</Col>\r\n                                <Col>$ {order.totalPrice}</Col>\r\n                                \r\n                            </Row>\r\n                        </ListGroup.Item>\r\n                        <ListGroup.Item>\r\n                        {error&&<Message variant=\"danger\" message={error}/>}\r\n                        </ListGroup.Item>                        \r\n                    </ListGroup>\r\n                    </Card>\r\n                    {/* <ListGroup.Item>\r\n                    <PayPalButton \r\n                        amount={order.totalPrice}\r\n                        onSuccess={handlePaymentSuccess}\r\n                        />\r\n                    </ListGroup.Item> */}\r\n                \r\n                {!order.isPaid && (\r\n                <ListGroup.Item>\r\n                  {loadingPay && <Loading />}\r\n                  {!sdkReady ? (\r\n                    <Loading />\r\n                  ) : (\r\n                    <PayPalButton\r\n                      amount={Number(order.totalPrice)}                      \r\n                      onSuccess={handlePaymentSuccess}\r\n                    ></PayPalButton>\r\n                  )}\r\n                </ListGroup.Item>\r\n              )}\r\n                    \r\n                </Col>\r\n          </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OrderPage\r\n","import React from 'react'\r\nimport {BrowserRouter as Router,Route} from 'react-router-dom'\r\nimport './index.css'\r\nimport {Container} from 'react-bootstrap'\r\nimport Header from './components/Header'\r\nimport Footer from './components/Footer'\r\nimport Home from './pages/Home'\r\nimport ProductDetails from './pages/ProductDetails'\r\nimport Cart from './pages/Cart'\r\nimport Register from './pages/Register'\r\nimport Login from './pages/Login'\r\nimport Profile from './pages/Profile'\r\nimport ShippingAdress from './pages/ShippingAdress'\r\nimport Payment from './pages/Payment'\r\nimport PlaceOrder from './pages/PlaceOrder'\r\nimport OrderPage from './pages/OrderPage'\r\n\r\n\r\nfunction App() {\r\n    \r\n    return (\r\n        <Router>\r\n            <Header/>\r\n            \r\n            <Container>\r\n               <Route path=\"/\" exact component={Home}/>\r\n               <Route path=\"/register\" component={Register}/>\r\n               <Route path=\"/profile\" component={Profile}/>\r\n               <Route path=\"/login\" component={Login}/>\r\n               <Route path=\"/product/:id\" component={ProductDetails}/>\r\n               <Route path=\"/cart/:id?\" component={Cart}/>\r\n               <Route path=\"/shipping\" component={ShippingAdress}/>\r\n               <Route path=\"/payment\" component={Payment}/>\r\n               <Route path=\"/checkout\" component={PlaceOrder}/>\r\n               <Route path=\"/order/:id\" component={OrderPage}/>\r\n            </Container>\r\n                       \r\n            \r\n            <Footer/>\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux'\r\nimport store from './store'\r\nimport App from './App';\r\nimport './bootstrap.min.css';\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n  <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}